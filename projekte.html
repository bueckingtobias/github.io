<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projekte – Bücking Immobilien GmbH & Co. KG</title>

  <style>
    :root{
      --brand:#004225;
      --brand-700:#00361e;
      --text:#ffffff;
      --bg:#004225;
      --muted:#ffffff1a;
      --muted-strong:#ffffff26;
      --shadow:0 2px 10px rgba(0,0,0,.25);
      --shadow-strong:0 10px 30px rgba(0,0,0,.35);
      --radius:12px;
      --maxw:1200px;
      --nav-h:46px;
      --hero-w:980px;

      /* werden per JS exakt gesetzt; Fallbacks: */
      --header-h:110px;
      --footer-h:64px;
      --safe-bottom:env(safe-area-inset-bottom,0px);
    }

    *{box-sizing:border-box}
    html,body{
      margin:0; padding:0;
      font-family:"Avenir",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text); background:var(--bg);
      scroll-behavior:smooth;
    }
    /* Ankerziele verschwinden nicht unter dem Header */
    html{ scroll-padding-top:calc(var(--header-h) + 10px) }

    /* ===== Header (identisch) ===== */
    header.site-header{
      position:sticky; top:0; left:0; right:0; z-index:1000;
      background:var(--brand-700); color:var(--text); box-shadow:var(--shadow);
    }
    .header-top{display:grid;place-items:center;padding:14px 16px;}
    .brand-link{display:inline-flex;align-items:center;gap:10px;color:var(--text);text-decoration:none;}
    .brand-logo{height:46px;width:auto;display:block;filter:brightness(0) invert(1);}

    .header-nav{
      display:flex;align-items:center;justify-content:center;
      border-top:1px solid rgba(255,255,255,.15);
      min-height:var(--nav-h); padding:0 8px; position:relative;
    }
    nav.primary{display:none;}
    nav.primary ul{list-style:none;margin:0;padding:0;display:flex;gap:28px;align-items:center;}
    nav.primary a{color:var(--text);text-decoration:none;font-weight:700;padding:10px 6px;border-radius:8px;transition:opacity .2s ease;}
    nav.primary a:hover{opacity:.8;}
    nav.primary a[aria-current="page"]{text-decoration:underline;}

    /* Hamburger mobil */
    .menu-toggle{
      position:absolute; right:8px; width:44px; height:44px;
      border:0; background:transparent; color:var(--text);
      display:grid; place-items:center; border-radius:8px; cursor:pointer;
    }
    .menu-icon,.menu-icon::before,.menu-icon::after{
      content:""; display:block; width:22px; height:2px;
      background:var(--text); border-radius:2px; transition:transform .25s ease, opacity .2s ease;
    }
    .menu-icon::before{transform:translateY(-7px)}
    .menu-icon::after{transform:translateY(5px)}
    .menu-toggle[aria-expanded="true"] .menu-icon{transform:rotate(45deg)}
    .menu-toggle[aria-expanded="true"] .menu-icon::before{transform:rotate(90deg)}
    .menu-toggle[aria-expanded="true"] .menu-icon::after{opacity:0}

    .drawer-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:999;}
    .drawer{
      position:fixed; left:0; right:0;
      top:var(--header-h); bottom:calc(var(--footer-h) + var(--safe-bottom));
      background:var(--brand); color:var(--text);
      transform:translateY(-8px); opacity:0; pointer-events:none;
      border-bottom:1px solid rgba(255,255,255,.15); box-shadow:0 10px 25px rgba(0,0,0,.25);
      transition:transform .25s ease, opacity .25s ease; z-index:1001;
      overflow:auto; -webkit-overflow-scrolling:touch;
    }
    .drawer.open,.drawer-backdrop.open{pointer-events:auto}
    .drawer.open{transform:translateY(0);opacity:1}
    .drawer-backdrop.open{opacity:1}
    .drawer nav{padding:14px 16px 18px}
    .drawer ul{list-style:none;margin:0;padding:0;display:grid;gap:8px}
    .drawer a{display:block;text-decoration:none;color:var(--text);font-weight:700;padding:12px 10px;border-radius:10px;background:var(--muted)}

    @media (min-width:900px){
      nav.primary{display:block} .menu-toggle{display:none} .drawer,.drawer-backdrop{display:none}
    }

    /* ===== Main ===== */
    main{
      max-width:var(--maxw); margin:0 auto;
      padding:clamp(28px,4vw,48px) 16px calc(var(--footer-h) + var(--safe-bottom));
    }

    .intro-wrap{max-width:var(--hero-w);margin:0 auto;text-align:center;padding:clamp(8px,2vw,16px) 0 0;}
    .kicker{font-weight:700;letter-spacing:.14em;text-transform:uppercase;opacity:.65;font-size:.9rem;text-align:center;margin:clamp(12px,2vw,18px) 0 10px;}
    .title-stacked{text-align:center;margin-inline:auto;max-width:100%;line-height:1.1;letter-spacing:.01em;margin-bottom:clamp(8px,2vw,14px);}
    .title-stacked .line1{display:block;font-size:clamp(20px,3vw,30px);font-weight:800;margin-bottom:4px;}
    .title-stacked .line2{display:block;font-size:clamp(16px,2.4vw,24px);font-weight:700;opacity:.95;}
    .intro-wrap p{margin:10px auto 0;opacity:.95;max-width:70ch;}

    .project-hero{position:relative;overflow:hidden;border-radius:var(--radius);background:rgba(255,255,255,.04);box-shadow:var(--shadow);max-width:var(--hero-w);margin:20px auto;}
    .project-hero img{display:block;width:100%;height:auto;object-fit:contain;}

    .tabs{max-width:var(--hero-w);margin:clamp(18px,3vw,26px) auto 0;display:flex;flex-direction:column;gap:14px;align-items:center;}
    .tab-controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;}
    .tab-controls input{position:absolute;opacity:0;pointer-events:none;}
    .tab-controls label{user-select:none;cursor:pointer;padding:10px 14px;border-radius:999px;font-weight:800;background:var(--muted);border:1px solid rgba(255,255,255,.12);transition:transform .12s ease,opacity .2s ease,background .2s ease;opacity:.9;}
    .tab-controls label:hover{transform:translateY(-1px);opacity:1;}
    .tab-controls input:checked + label{background:rgba(255,255,255,.14);border-color:rgba(255,255,255,.28);}

    .panels{width:100%;display:grid;place-items:center;}
    .panel{display:none;width:min(100%,var(--hero-w));background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius);box-shadow:var(--shadow);}
    .panel.active{display:block;}

    .box-body{padding:16px 16px 18px;display:flex;flex-direction:column;gap:12px;align-items:center;text-align:center;}
    .meta{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;opacity:.95;font-size:.98rem;}
    .chip{background:var(--muted);padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.12);}

    /* Preise (Seite anzeigen, aber nicht in Mail verwenden) */
    .price-list{list-style:none;margin:4px auto 0;padding:0;width:min(92%,460px);}
    .price-list li{display:flex;justify-content:space-between;align-items:baseline;gap:16px;padding:6px 0;border-bottom:1px solid rgba(255,255,255,.08);}
    .price-list .label{opacity:.85;text-align:left;}
    .price-list .value{font-weight:800;text-align:right;min-width:120px;flex:0 0 120px;}

    .total{margin:10px auto 0;padding:10px 12px;width:min(92%,460px);display:flex;justify-content:space-between;align-items:center;font-weight:800;border-radius:10px;background:var(--muted);border:1px solid rgba(255,255,255,.12);}

    .badges{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;}
    .badge{font-weight:700;padding:6px 10px;border-radius:999px;background:var(--muted);border:1px solid rgba(255,255,255,.12);}
    .vermietet{opacity:.8;}

    .actions{margin-top:8px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center;}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 14px;border-radius:12px;text-decoration:none;color:var(--text);background:var(--muted);border:1px solid rgba(255,255,255,.14);font-weight:800;transition:transform .15s ease,box-shadow .2s ease,background-color .2s ease;box-shadow:var(--shadow);}
    .btn:hover{transform:translateY(-2px);background:var(--muted-strong);box-shadow:var(--shadow-strong);}

    .apartment-info{margin-top:clamp(18px,3vw,28px);padding:16px;border-radius:var(--radius);background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.12);max-width:var(--hero-w);margin-inline:auto;}

    /* ===== Footer (identisch, fix) ===== */
    footer.site-footer{
      position:fixed; left:0; right:0; bottom:0; z-index:1000;
      background:var(--brand-700); color:var(--text);
      text-align:center; padding:14px 18px calc(14px + var(--safe-bottom));
      font-size:.95rem; box-shadow:0 -2px 10px rgba(0,0,0,.25);
    }
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="header-top">
      <a class="brand-link" href="index.html#top" aria-label="Zur Startseite">
        <img class="brand-logo" src="logo.png" alt="Bücking Immobilien Logo" />
      </a>
    </div>

    <div class="header-nav">
      <nav class="primary" aria-label="Hauptnavigation">
        <ul>
          <li><a href="index.html#home">Home</a></li>
          <li><a href="projekte.html" aria-current="page">Projekte</a></li>
          <li><a href="unternehmen.html">Unternehmen</a></li>
          <li><a href="kontakt.html">Kontakt</a></li>
          <li><a href="impressum.html">Impressum</a></li>
        </ul>
      </nav>

      <button class="menu-toggle" aria-label="Menü öffnen" aria-expanded="false" aria-controls="mobile-drawer">
        <span class="menu-icon"></span>
      </button>
    </div>

    <!-- Mobile Drawer -->
    <div class="drawer-backdrop" id="drawer-backdrop" hidden></div>
    <div class="drawer" id="mobile-drawer" role="dialog" aria-modal="true" aria-label="Navigation" hidden>
      <nav>
        <ul>
          <li><a href="index.html#home">Home</a></li>
          <li><a href="projekte.html" aria-current="page">Projekte</a></li>
          <li><a href="unternehmen.html">Unternehmen</a></li>
          <li><a href="kontakt.html">Kontakt</a></li>
          <li><a href="impressum.html">Impressum</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="top">
    <section class="intro-wrap">
      <div class="kicker">Aktuelles Projekt</div>
      <h2 class="title-stacked">
        <span class="line1">Vom Hof zum Zuhause</span>
        <span class="line2">Umbau eines landwirtschaftlichen Gebäudes</span>
      </h2>
      <p>Ein landwirtschaftliches Gebäude, das über Generationen von unserer Familie bewirtschaftet wurde,
         wird zu fünf modernen und charmanten Wohneinheiten umgebaut. Wir verbinden ländlichen Charme mit
         zeitgemäßem Wohnkomfort.</p>
    </section>

    <section class="project-hero">
      <img src="projekt-aussenansicht.jpeg" alt="Außenansicht Gesamtansicht">
    </section>

    <section class="tabs">
      <div class="tab-controls">
        <input type="radio" name="apt" id="tab1" checked><label for="tab1">Wohnung 1</label>
        <input type="radio" name="apt" id="tab2"><label for="tab2">Wohnung 2</label>
        <input type="radio" name="apt" id="tab3"><label for="tab3">Wohnung 3</label>
        <input type="radio" name="apt" id="tab4"><label for="tab4">Wohnung 4</label>
        <input type="radio" name="apt" id="tab5"><label for="tab5">Wohnung 5</label>
      </div>

      <div class="panels">
        <!-- Wohnung 1 -->
        <article class="panel active"
                 data-id="1" data-groesse="107 m²" data-zimmer="3 Zimmer" data-status="Verfügbar"
                 data-miete="1400" data-nk="250" data-kueche="75">
          <div class="box-body">
            <h4>Wohnung 1</h4>
            <div class="meta"><span class="chip">107 m²</span><span class="chip">3 Zimmer</span></div>

            <ul class="price-list">
              <li><span class="label">Kaltmiete</span><span class="value js-miete"></span></li>
              <li><span class="label">Nebenkosten</span><span class="value js-nk"></span></li>
              <li><span class="label">Küche</span><span class="value js-kueche"></span></li>
            </ul>
            <div class="total"><span>Gesamt</span><span class="js-total"></span></div>

            <div class="badges"><span class="badge">Verfügbar</span></div>
            <div class="actions">
              <a class="btn btn-plan" href="grundriss-platzhalter.jpeg" download="grundriss-wohnung1.jpeg">⤓ Grundriss</a>
              <a class="btn btn-email" href="#">✉︎ Anfragen per E-Mail</a>
              <a class="btn" href="tel:+494201234567">☎︎ Anrufen</a>
            </div>
          </div>
        </article>

        <!-- Wohnung 2 -->
        <article class="panel"
                 data-id="2" data-groesse="93 m²" data-zimmer="4 Zimmer" data-status="Vermietet"
                 data-miete="1215" data-nk="250" data-kueche="75">
          <div class="box-body">
            <h4>Wohnung 2</h4>
            <div class="meta"><span class="chip">93 m²</span><span class="chip">4 Zimmer</span></div>

            <ul class="price-list">
              <li><span class="label">Kaltmiete</span><span class="value js-miete"></span></li>
              <li><span class="label">Nebenkosten</span><span class="value js-nk"></span></li>
              <li><span class="label">Küche</span><span class="value js-kueche"></span></li>
            </ul>
            <div class="total"><span>Gesamt</span><span class="js-total"></span></div>

            <div class="badges"><span class="badge vermietet">Vermietet</span></div>
            <div class="actions">
              <a class="btn btn-plan" href="grundriss-platzhalter.jpeg" download="grundriss-wohnung2.jpeg">⤓ Grundriss</a>
              <a class="btn btn-email" href="#">✉︎ Anfragen per E-Mail</a>
              <a class="btn" href="tel:+494201234567">☎︎ Anrufen</a>
            </div>
          </div>
        </article>

        <!-- Wohnung 3 -->
        <article class="panel"
                 data-id="3" data-groesse="92 m²" data-zimmer="3 Zimmer" data-status="Vermietet"
                 data-miete="1202" data-nk="250" data-kueche="75">
          <div class="box-body">
            <h4>Wohnung 3</h4>
            <div class="meta"><span class="chip">92 m²</span><span class="chip">3 Zimmer</span></div>

            <ul class="price-list">
              <li><span class="label">Kaltmiete</span><span class="value js-miete"></span></li>
              <li><span class="label">Nebenkosten</span><span class="value js-nk"></span></li>
              <li><span class="label">Küche</span><span class="value js-kueche"></span></li>
            </ul>
            <div class="total"><span>Gesamt</span><span class="js-total"></span></div>

            <div class="badges"><span class="badge vermietet">Vermietet</span></div>
            <div class="actions">
              <a class="btn btn-plan" href="grundriss-platzhalter.jpeg" download="grundriss-wohnung3.jpeg">⤓ Grundriss</a>
              <a class="btn btn-email" href="#">✉︎ Anfragen per E-Mail</a>
              <a class="btn" href="tel:+494201234567">☎︎ Anrufen</a>
            </div>
          </div>
        </article>

        <!-- Wohnung 4 -->
        <article class="panel"
                 data-id="4" data-groesse="92 m²" data-zimmer="3 Zimmer" data-status="Verfügbar"
                 data-miete="1200" data-nk="250" data-kueche="75">
          <div class="box-body">
            <h4>Wohnung 4</h4>
            <div class="meta"><span class="chip">92 m²</span><span class="chip">3 Zimmer</span></div>

            <ul class="price-list">
              <li><span class="label">Kaltmiete</span><span class="value js-miete"></span></li>
              <li><span class="label">Nebenkosten</span><span class="value js-nk"></span></li>
              <li><span class="label">Küche</span><span class="value js-kueche"></span></li>
            </ul>
            <div class="total"><span>Gesamt</span><span class="js-total"></span></div>

            <div class="badges"><span class="badge">Verfügbar</span></div>
            <div class="actions">
              <a class="btn btn-plan" href="grundriss-platzhalter.jpeg" download="grundriss-wohnung4.jpeg">⤓ Grundriss</a>
              <a class="btn btn-email" href="#">✉︎ Anfragen per E-Mail</a>
              <a class="btn" href="tel:+494201234567">☎︎ Anrufen</a>
            </div>
          </div>
        </article>

        <!-- Wohnung 5 -->
        <article class="panel"
                 data-id="5" data-groesse="124 m²" data-zimmer="4 Zimmer" data-status="Verfügbar"
                 data-miete="1620" data-nk="250" data-kueche="75">
          <div class="box-body">
            <h4>Wohnung 5</h4>
            <div class="meta"><span class="chip">124 m²</span><span class="chip">4 Zimmer</span></div>

            <ul class="price-list">
              <li><span class="label">Kaltmiete</span><span class="value js-miete"></span></li>
              <li><span class="label">Nebenkosten</span><span class="value js-nk"></span></li>
              <li><span class="label">Küche</span><span class="value js-kueche"></span></li>
            </ul>
            <div class="total"><span>Gesamt</span><span class="js-total"></span></div>

            <div class="badges"><span class="badge">Verfügbar</span></div>
            <div class="actions">
              <a class="btn btn-plan" href="grundriss-platzhalter.jpeg" download="grundriss-wohnung5.jpeg">⤓ Grundriss</a>
              <a class="btn btn-email" href="#">✉︎ Anfragen per E-Mail</a>
              <a class="btn" href="tel:+494201234567">☎︎ Anrufen</a>
            </div>
          </div>
        </article>
      </div>
    </section>

    <div class="apartment-info">
      <p><strong>Hinweis:</strong> Im Mietpreis enthalten sind ein Stellplatz sowie die Nutzung des Fahrradschuppens.
      Der Strombezug erfolgt über die hauseigene Solaranlage des Vermieters.</p>
      <p>Wohnflächenangaben und Mietpreise können sich während der Bauphase noch geringfügig ändern.</p>
    </div>
  </main>

  <footer class="site-footer">
    &copy; 2025 Bücking Immobilien GmbH &amp; Co. KG – Alle Rechte vorbehalten
  </footer>

  <script>
    /* ===== Header/Footer-Höhen als Variablen setzen ===== */
    function updateChromeVars(){
      const header = document.querySelector('.site-header');
      const footer = document.querySelector('.site-footer');
      const root   = document.documentElement;
      const headerH = header?.offsetHeight || 110;
      const footerH = footer?.offsetHeight || 64;
      root.style.setProperty('--header-h', headerH + 'px');
      root.style.setProperty('--footer-h', footerH + 'px');
    }
    window.addEventListener('load', updateChromeVars);
    window.addEventListener('resize', () => { clearTimeout(window.__rz); window.__rz = setTimeout(updateChromeVars, 100); });

    /* ===== Mobiles Menü ===== */
    const body=document.body,
          toggle=document.querySelector('.menu-toggle'),
          drawer=document.getElementById('mobile-drawer'),
          backdrop=document.getElementById('drawer-backdrop');

    function openMenu(){
      toggle.setAttribute('aria-expanded','true');
      drawer.hidden=false; backdrop.hidden=false;
      requestAnimationFrame(()=>{
        drawer.classList.add('open'); backdrop.classList.add('open');
        body.style.overflow='hidden';
        const firstLink=drawer.querySelector('a'); firstLink&&firstLink.focus();
      });
    }
    function closeMenu(){
      toggle.setAttribute('aria-expanded','false');
      drawer.classList.remove('open'); backdrop.classList.remove('open');
      body.style.overflow='';
      setTimeout(()=>{ drawer.hidden=true; backdrop.hidden=true; },200);
      toggle.focus();
    }
    toggle.addEventListener('click',()=>toggle.getAttribute('aria-expanded')==='true'?closeMenu():openMenu());
    backdrop.addEventListener('click',closeMenu);
    window.addEventListener('keydown',e=>{ if(e.key==='Escape') closeMenu(); });

    /* ===== Tabs ===== */
    const radios = document.querySelectorAll('.tab-controls input');
    const panels = document.querySelectorAll('.panel');
    radios.forEach((r,i)=> r.addEventListener('change',()=> panels.forEach((p,j)=>p.classList.toggle('active', i===j))));

    /* ===== Preise formatieren (nur Anzeige, nicht in Mail) ===== */
    const euro = v => (+v).toLocaleString('de-DE',{style:'currency',currency:'EUR'});
    document.querySelectorAll('.panel').forEach(p=>{
      const m=+p.dataset.miete||0, n=+p.dataset.nk||0, k=+p.dataset.kueche||0;
      p.querySelector('.js-miete').textContent  = euro(m);
      p.querySelector('.js-nk').textContent     = euro(n);
      p.querySelector('.js-kueche').textContent = euro(k);
      p.querySelector('.js-total').textContent  = euro(m+n+k);
    });

    /* ===== Sauber formatierte Mail ohne '+' und ohne Preise ===== */
    function buildMailto(panel){
      const id      = panel.dataset.id;
      const groesse = panel.dataset.groesse;
      const zimmer  = panel.dataset.zimmer;
      const status  = panel.dataset.status;

      const subject = `Anfrage Wohnung ${id} – Vom Hof zum Zuhause`;
      const body = [
        'Guten Tag,',
        '',
        `ich interessiere mich für Wohnung ${id} im Projekt „Vom Hof zum Zuhause“.`,
        '',
        'Eckdaten:',
        `• Größe: ${groesse}`,
        `• Zimmer: ${zimmer}`,
        `• Status: ${status}`,
        '',
        'Bitte senden Sie mir weitere Informationen und – sofern möglich – Terminvorschläge für eine Besichtigung.',
        '',
        'Meine Kontaktdaten:',
        'Name:',
        'E-Mail:',
        'Telefon:',
        '',
        'Vielen Dank und freundliche Grüße'
      ].join('\r\n');

      // Manuell kodieren -> keine '+' Zeichen
      const href =
        'mailto:kontakt@buecking-immo.de'
        + '?subject=' + encodeURIComponent(subject)
        + '&body='    + encodeURIComponent(body);

      return href;
    }

    document.querySelectorAll('.btn-email').forEach(btn=>{
      btn.addEventListener('click',(e)=>{
        e.preventDefault();
        const panel = e.currentTarget.closest('.panel');
        window.location.href = buildMailto(panel);
      });
    });

    /* ===== Grundriss-Download: immer Platzhalter, Dateiname passend ===== */
    document.querySelectorAll('.btn-plan').forEach(btn=>{
      const panel = btn.closest('.panel');
      const id = panel?.dataset.id || '';
      btn.setAttribute('href','grundriss-platzhalter.jpeg');
      btn.setAttribute('download', `grundriss-wohnung${id}.jpeg`);
    });
  </script>
</body>
</html>

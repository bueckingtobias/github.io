<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Finanzen ‚Äì Dashboard</title>

  <meta name="robots" content="noindex,nofollow" />

  <!-- NUR diese eine CSS f√ºr die komplette View (Sidebar + Grid) -->
  <link rel="stylesheet" href="./view-finance.css?v=1">

  <!-- View Loader -->
  <script src="./view-finance.js?v=1" defer></script>
</head>

<body>
  <div class="app">
    <!-- Sidebar (bleibt immer da) -->
    <aside class="sidebar" aria-label="Navigation">
      <div class="brand">
        <div class="brand-dot"></div>
        <div class="brand-txt">
          <div class="brand-title">B√ºcking Dashboard</div>
          <div class="brand-sub">Immobilien ¬∑ Projekte ¬∑ KPIs</div>
        </div>
      </div>

      <nav class="nav" id="nav">
        <a href="./index.html">
          <div class="nav-ic">‚åÇ</div>
          <div class="nav-txt">
            <div class="nav-title">√úbersicht</div>
            <div class="nav-sub">Startseite</div>
          </div>
        </a>

        <div class="nav-label">Views</div>

        <a href="./view-projects.html">
          <div class="nav-ic">üèó</div>
          <div class="nav-txt">
            <div class="nav-title">Projekte / Bau</div>
            <div class="nav-sub">Gewerke & Handwerker</div>
          </div>
        </a>

        <a href="./view-finance.html" class="active">
          <div class="nav-ic">‚Ç¨</div>
          <div class="nav-txt">
            <div class="nav-title">Finanzen</div>
            <div class="nav-sub">Cashflow & Budget</div>
          </div>
        </a>
      </nav>

      <div class="sidebar-footer">
        <span class="chip" id="clockSide">‚Äî</span>
        <span class="chip">online</span>
      </div>
    </aside>

    <!-- Main -->
    <section class="main">
      <header class="topbar">
        <div class="page-title">
          <h1>Finanzen</h1>
          <div>Modular ¬∑ Datenquelle sp√§ter: Dashboard.xlsx</div>
        </div>

        <div class="top-right">
          <span class="chip" id="clockTop">‚Äî</span>
          <button class="btn" id="btnRefresh">‚Üª Reload Module</button>
        </div>
      </header>

      <main class="content">
        <div class="fx-root">
          <!-- Fehlerbox -->
          <pre class="fx-error" id="fxError" style="display:none;"></pre>

          <!-- OBEN: Gesamtmodul volle Breite -->
          <section class="fx-row">
            <div id="slotGesamt"></div>
          </section>

          <!-- UNTEN: 2-Spalten Grid ‚Äì klare Linie -->
          <section class="fx-grid-2" id="fxGrid2">
            <div class="fx-cell" id="slotCashflow"></div>
            <div class="fx-cell" id="slotBudget"></div>
            <div class="fx-cell" id="slotOP"></div>
            <div class="fx-cell" id="slotReserven"></div>
          </section>

          <!-- Optional: volle Breite unten -->
          <section class="fx-row">
            <div id="slotMieten"></div>
          </section>

          <div class="fx-footer">
            <div class="fx-hint">
              Hinweis: Wenn wieder ‚Äúwei√ü + nur Text‚Äù kommt, dann l√§dt die CSS nicht (Pfad/Name/Cache).
            </div>
          </div>
        </div>
      </main>
    </section>
  </div>

  <script>
    (function(){
      const clockTop = document.getElementById("clockTop");
      const clockSide = document.getElementById("clockSide");
      function tick(){
        const d = new Date();
        const t = d.toLocaleString("de-DE",{ weekday:"short", year:"numeric", month:"2-digit", day:"2-digit", hour:"2-digit", minute:"2-digit" });
        if(clockTop) clockTop.textContent = t;
        if(clockSide) clockSide.textContent = t;
      }
      tick(); setInterval(tick, 15000);
    })();
  </script>
</body>
</html>
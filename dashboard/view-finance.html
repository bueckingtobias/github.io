<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Finanzen</title>

  <!-- App Shell Styles (Sidebar etc.) -->
  <link rel="stylesheet" href="./app-shell.css">

  <!-- Finance View Styles -->
  <link rel="stylesheet" href="./view-finance.css">

  <!-- Module Scripts -->
  <script src="./finance-cashflow-modul.js" defer></script>
  <script src="./finance-budget-modul.js" defer></script>
  <script src="./finance-op-modul.js" defer></script>
  <script src="./finance-reserven-modul.js" defer></script>
</head>

<body>
  <div class="app-shell">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-title">Dashboard</div>
      <nav class="sidebar-nav">
        <a href="./index.html">Übersicht</a>
        <a href="./view-projects.html">Projekte</a>
        <a href="./view-finance.html" class="active">Finanzen</a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="main-header">
        <h1>Finanzen</h1>
        <div class="sub">Cashflow, Budgets & Liquidität</div>
      </header>

      <section class="finance-root">
        <!-- Gesamt Cashflow (breit) -->
        <div class="finance-span-2" id="financeCashflow"></div>

        <!-- Grid: exakt 2 Spalten -->
        <div class="finance-grid">
          <div class="finance-cell" id="financeBudget"></div>
          <div class="finance-cell" id="financeOP"></div>
          <div class="finance-cell" id="financeReserven"></div>
        </div>
      </section>
    </main>
  </div>

  <script>
    /* Dummy-Daten – später aus Dashboard.xlsx */
    const financeData = {
      startCash: 185000
    };

    const cashflow = [
      { month:"2025-01", inflow:52000, outflow:61000 },
      { month:"2025-02", inflow:54000, outflow:58500 },
      { month:"2025-03", inflow:61000, outflow:74000 },
      { month:"2025-04", inflow:59000, outflow:62000 },
      { month:"2025-05", inflow:63000, outflow:69000 },
      { month:"2025-06", inflow:66000, outflow:72000 }
    ];

    window.addEventListener("DOMContentLoaded", ()=>{
      FinanceCashflowModul.render(
        document.getElementById("financeCashflow"),
        financeData,
        cashflow,
        { horizon:6 }
      );

      FinanceBudgetModul.render(
        document.getElementById("financeBudget")
      );

      FinanceOPModul.render(
        document.getElementById("financeOP")
      );

      FinanceReservenModul.render(
        document.getElementById("financeReserven")
      );
    });
  </script>
</body>
</html>
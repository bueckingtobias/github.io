<!-- SECTION: Rondell-Deck (Peek IM Container, Start mittig) -->
<section class="landing" aria-label="Überblick">
  <style>
    :root{
      --brand:#004225; --brand-700:#00361e; --text:#ffffff;
      --peek: 120px;         /* wie viel der Nachbarn sichtbar ist (je Seite) */
    }

    .landing{
      position:relative; isolation:isolate; color:var(--text); background:var(--brand);
      width:100%; padding:clamp(80px,10vw,140px) 16px clamp(80px,8vw,120px);
      box-sizing:border-box; overflow:hidden;
      font-family:"Avenir",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }
    .landing .container{ max-width:1100px; margin-inline:auto; text-align:center; padding-inline:16px; }

    .kicker{ font-weight:700; letter-spacing:.14em; text-transform:uppercase; color:rgba(255,255,255,.65); font-size:.9rem; margin-bottom:28px; }
    .hed{ font-weight:900; letter-spacing:.005em; line-height:1.05; margin:0 auto 22px; font-size:clamp(1.5rem,3.2vw,2.2rem); }
    .dek{ margin:0 auto 36px; max-width:60ch; font-size:clamp(.95rem,1.3vw,1.1rem); line-height:1.6; color:rgba(255,255,255,.85); }

    /* Segmented Tabs */
    .seg{
      width:100%; max-width:860px; margin:0 auto;
      background:rgba(255,255,255,.07); border:1px solid rgba(255,255,255,.15);
      border-radius:14px; position:relative; display:grid; grid-auto-flow:column; overflow:hidden;
    }
    .seg button{ appearance:none; border:0; background:transparent; color:#fff; font-weight:800; letter-spacing:.02em; padding:12px 18px; cursor:pointer; white-space:nowrap; }
    .seg button:hover{ opacity:.9; }
    .seg .pill{
      position:absolute; inset:0 auto 0 0; height:100%; background:rgba(255,255,255,.14);
      border-right:1px solid rgba(255,255,255,.18); border-left:1px solid rgba(255,255,255,.18);
      border-radius:12px; pointer-events:none; width:0;
      transition: transform .28s cubic-bezier(.22,.8,.26,1), width .28s;
    }

    /* === DECK: überlagerte Karten, Peek strikt im Container === */
    .deck{
      margin-top:clamp(28px,3vw,40px);
      position:relative;
      display:grid; place-items:center;
      perspective:1200px;
      height:auto;
    }
    .pane{
      grid-area:1 / 1;
      width: calc(100% - 2 * var(--peek));
      max-width: calc(1100px - 2 * var(--peek));
      padding: 0 10px; box-sizing:border-box;
      transform-style: preserve-3d;
      transition: transform .5s cubic-bezier(.22,.8,.26,1), opacity .5s, z-index .2s;
    }

    .card{
      width:100%;
      background:rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.15);
      border-radius:22px; backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
      box-shadow:0 10px 25px rgba(0,0,0,.25);
      padding:36px 28px; text-align:center;
      transform: translateZ(0) scale(.985);
      transition: transform .5s cubic-bezier(.22,.8,.26,1), box-shadow .5s;
    }
    .card .icon{
      width:52px; height:52px; margin:0 auto 18px; border-radius:14px;
      background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.25);
      display:grid; place-items:center;
    }
    .card .icon svg{ width:26px; height:26px; stroke:#fff; stroke-width:2; fill:none; }
    .card-title{ font-weight:900; letter-spacing:.005em; line-height:1.1; margin-bottom:14px; font-size:clamp(1.1rem,2.2vw,1.6rem); color:#fff; }

    .feature-list{ margin:0 auto; padding:0; list-style:none; max-width:48ch; text-align:left; }
    .feature-list li{ display:grid; grid-template-columns:auto 1fr; align-items:start; gap:10px; padding:8px 0; border-bottom:1px dashed rgba(255,255,255,.18); }
    .feature-list li:last-child{ border-bottom:none; }
    .feature-list .dot{ width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,.6); margin-top:.45em; }
    .feature-list .txt{ color:rgba(255,255,255,.92); line-height:1.6; }

    .pane[data-pos="0"]{ z-index:3; transform: translateX(0) translateZ(64px); }
    .pane[data-pos="0"] .card{ transform: translateZ(64px) scale(1.02); box-shadow:0 22px 46px rgba(0,0,0,.42), 0 2px 0 rgba(255,255,255,.08) inset; }

    .pane[data-pos="-1"]{
      z-index:2;
      transform: translateX(calc(-50% + var(--peek))) rotateY(-16deg) translateZ(-24px);
    }
    .pane[data-pos="-1"] .card{ box-shadow:0 12px 28px rgba(0,0,0,.3); transform: translateZ(0) scale(.985); }

    .pane[data-pos="1"]{
      z-index:2;
      transform: translateX(calc(50% - var(--peek))) rotateY(16deg) translateZ(-24px);
    }
    .pane[data-pos="1"] .card{ box-shadow:0 12px 28px rgba(0,0,0,.3); transform: translateZ(0) scale(.985); }

    .pane[hidden]{ display:none; }

    @media (max-width:900px){
      :root{ --peek: 90px; }
    }
    @media (max-width:680px){
      :root{ --peek: 56px; }
      .feature-list{ max-width: 40ch; }
    }
  </style>

  <div class="container">
    <header class="hero">
      <div class="kicker">Bücking Immobilien</div>
      <h1 class="hed">Wofür wir stehen</h1>
      <p class="dek">Profil, Qualität und Zusammenarbeit – mit 3D-Fokus. Die Nachbarn werden innerhalb des Containers angedeutet, Start ist mittig.</p>
    </header>

    <div class="seg" role="tablist" aria-label="Themenauswahl">
      <span class="pill" aria-hidden="true"></span>
      <button role="tab" aria-selected="false" aria-controls="pane-1" id="tab-1">Profil</button>
      <button role="tab" aria-selected="true"  aria-controls="pane-2" id="tab-2">Qualität</button>
      <button role="tab" aria-selected="false" aria-controls="pane-3" id="tab-3">Zusammenarbeit</button>
    </div>

    <div class="deck" id="deck">
      <section class="pane" id="pane-1" role="tabpanel" aria-labelledby="tab-1" data-pos="-1">
        <article class="card">
          <div class="icon">
            <svg viewBox="0 0 24 24"><path d="M12 3l9 4.5V21l-9 4.5L3 21V7.5L12 3z"/><path d="M12 12l9-4.5"/><path d="M12 12L3 7.5"/></svg>
          </div>
          <h3 class="card-title">PROFIL</h3>
          <ul class="feature-list">
            <li><span class="dot"></span><span class="txt">Regional &amp; langfristig</span></li>
            <li><span class="dot"></span><span class="txt">Fokus: Ganderkesee, Elmeloh &amp; Umgebung</span></li>
            <li><span class="dot"></span><span class="txt">Langfristige Bewirtschaftung statt kurzfristiger Handel</span></li>
            <li><span class="dot"></span><span class="txt">Klare Prozesse &amp; verlässliche Ansprechpartner</span></li>
          </ul>
        </article>
      </section>

      <section class="pane" id="pane-2" role="tabpanel" aria-labelledby="tab-2" data-pos="0">
        <article class="card">
          <div class="icon">
            <svg viewBox="0 0 24 24"><path d="M12 2l3 7h7l-5.5 4 2 7-6.5-4.5L5.5 20l2-7L2 9h7z"/></svg>
          </div>
          <h3 class="card-title">QUALITÄT</h3>
          <ul class="feature-list">
            <li><span class="dot"></span><span class="txt">Wertige Details</span></li>
            <li><span class="dot"></span><span class="txt">Effiziente Haustechnik &amp; sinnvolle Grundrisse</span></li>
            <li><span class="dot"></span><span class="txt">Reduziertes Design mit sauberer Ausführung</span></li>
            <li><span class="dot"></span><span class="txt">Langlebige Materialien &amp; pflegeleichte Lösungen</span></li>
          </ul>
        </article>
      </section>

      <section class="pane" id="pane-3" role="tabpanel" aria-labelledby="tab-3" data-pos="1">
        <article class="card">
          <div class="icon">
            <svg viewBox="0 0 24 24"><path d="M8 17l-3 3"/><path d="M22 11l-7 7-3-3"/><path d="M2 12h6l2 3h6l6-6"/></svg>
          </div>
          <h3 class="card-title">ZUSAMMENARBEIT</h3>
          <ul class="feature-list">
            <li><span class="dot"></span><span class="txt">Kurze Wege</span></li>
            <li><span class="dot"></span><span class="txt">Direkter Draht zu Eigentümer &amp; Verwaltung</span></li>
            <li><span class="dot"></span><span class="txt">Regionale Handwerkspartner</span></li>
            <li><span class="dot"></span><span class="txt">Transparente Entscheidungen</span></li>
          </ul>
        </article>
      </section>
    </div>
  </div>

  <script>
    (function(){
      const root = document.currentScript.closest('.landing');
      const seg  = root.querySelector('.seg');
      const tabs = Array.from(seg.querySelectorAll('button[role="tab"]'));
      const pill = seg.querySelector('.pill');
      const panes = [
        root.querySelector('#pane-1'),
        root.querySelector('#pane-2'),
        root.querySelector('#pane-3')
      ];

      let idx = 1; // Start mittig (Qualität)

      function setPill(){
        const btn = tabs[idx];
        const rect = btn.getBoundingClientRect();
        const crect = seg.getBoundingClientRect();
        pill.style.width = rect.width + 'px';
        pill.style.transform = `translateX(${rect.left - crect.left + seg.scrollLeft}px)`;
      }

      function setPositions(){
        panes.forEach((p,i)=>{
          const d = i - idx;
          if (Math.abs(d) <= 1){
            p.hidden = false;
            p.dataset.pos = String(d);
          } else {
            p.hidden = true;
          }
        });
        tabs.forEach((t,j)=>t.setAttribute('aria-selected', j===idx));
      }

      function show(i){
        idx = Math.max(0, Math.min(panes.length-1, i));
        setPositions();
        setPill();
      }

      tabs.forEach((t,i)=>{
        t.addEventListener('click', ()=>show(i));
        t.addEventListener('keydown', (e)=>{
          if(e.key==='ArrowRight') show(i+1);
          if(e.key==='ArrowLeft')  show(i-1);
        });
      });

      window.addEventListener('resize', ()=>{ setTimeout(setPill, 50); });

      show(idx);
    })();
  </script>
</section>
